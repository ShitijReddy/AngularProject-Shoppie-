<header>
    <mat-toolbar class="navbar bg-primary shadow-sm">
        <div  class="navbar-brand align-item-center d-flex">
            <i style="font-size: 40px;" class="fas fa-shipping-fast">&nbsp;
                
            </i>
            <div (click)="goToPage('/products')">
                <strong  style="font-size: 30px;">Shoppie</strong>
            </div>
            
            <!-- Search Form -->
            <form routerLink="" style="margin-left: 20px;" [formGroup]="searchProductForm" (ngSubmit)="searchProduct(searchBar.value)">
                <input (change)="revertHideAutoComplete()" #searchBar formControlName="searchBar" type="text" [formControl]="searchControl" class="form-control" placeholder="Search products...">
            </form>
            
            <span class="fas fa-search search-icon" >

            </span>
        </div>
        
        
        
        <!-- Button trigger modal -->
        <button type="button" *ngIf="!getIsCustomer()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Add the Product
        </button>
        
        
        <button routerLink="signup" *ngIf="!isLoggedIn" class="btn btn-secondary">Sign Up</button>
        <button routerLink="login" *ngIf="!isLoggedIn" class="btn btn-secondary">Login</button>
        <button *ngIf="isLoggedIn" class="btn btn-secondary" (click)="logout()">Logout</button>

        <!-- My Orders Button -->
        <button routerLink="my-orders" *ngIf="getIsCustomer()" class="btn btn-primary">My Orders</button>

        <button routerLink="my-products" *ngIf="!getIsCustomer()" class="btn btn-primary">Customer Orders</button>

        <!-- Header HTML code -->

        

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Product Details</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" >

                    <!-- Form -->
                    <form style="width: 200px;" [formGroup]="addProductForm" (ngSubmit)="addProduct()">
                        <div class="mb-3" >
                          <label for="productName" class="form-label">Product Name</label>
                          <input type="text" class="form-control" id="productName" formControlName="prodName" >
                        </div>

                        <div class="mb-3" >
                            <label for="productDesc" class="form-label">Description</label>
                            <input type="text" class="form-control" id="productDesc" formControlName="prodDesc" >
                          </div>
                        
                          <div class="mb-3" >
                            <label for="image" class="form-label">Image URL</label>
                            <input type="text" class="form-control" id="image" formControlName="image">
                          </div>

                        <div class="mb-3" >
                          <label for="price" class="form-label">Price</label>
                          <input type="number" class="form-control" id="price" formControlName="price">
                        </div>

                        <div class="mb-3" >
                            <label for="quantity" class="form-label">Quantity</label>
                            <input type="number" class="form-control" id="quantity" formControlName="quant">
                        </div>

                        <div class="mb-3" >
                            <label for="category" class="form-label">Category</label>
                            <input type="text" class="form-control" id="category" formControlName="category">
                        </div>

                      </form>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="addProduct()">Add</button>
                </div>
            </div>
            </div>
        </div>


        <!-- Routing to Cart Page -->
        <button *ngIf="getIsCustomer()" routerLink ="cart" class="btn btn-primary">
            <i  style="font-size: 30px;" class="fas fa-cart-plus"></i>
            <div style="font-size: 10px; background: rgb(4, 75, 228);" [matBadge]="totalItem" class="badgebg-danger"></div>
        </button>
    </mat-toolbar>
</header>
<div>
    <ul [hidden]="hideAutoComplete" class="suggestions">
        <li *ngFor="let product of products">
            <div id="suggestedId" (click)="changeSearchBarValue(product.prodName)">{{ product.prodName }}</div>
        </li>
    </ul>
</div> 