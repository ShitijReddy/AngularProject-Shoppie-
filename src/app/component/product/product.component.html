<div class="whole">

    <div class="card-top conatiner-fluid"  style="padding-top: 90px;">
        <i class="fas fa-bars" (click)="toggleNavbar()"></i>
        <div class="navbar-container" [ngClass]="{'active': showNavbar}">
            <div class="container d-flex" >
                <div class="item">
                    <a (click)="filterByCategory('All Items')" >
                        <!-- <img src="https://rukminim1.flixcart.com/flap/128/128/image/f15c02bfeb02d15d.png?q=100" alt=""> -->
                        <div class="white-color">All Items</div>
                    </a>
                </div>
                <div class="item">
                    <a (click)="filterByCategory('Electronics')">
                        <!-- <img src="https://rukminim1.flixcart.com/flap/128/128/image/69c6589653afdb9a.png?q=100" alt=""> -->
                        <div class="white-color">Electronics</div>
                    </a>
                </div>
                <div class="item">
                    <a (click)="filterByCategory('Fashion')">
                        <!-- <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/0d75b34f7d8fbcb3.png?q=100" alt=""> -->
                        <div class="white-color">Fashion</div>
                    </a>
                </div>
                <div class="item">
                    <a (click)="filterByCategory('Jewellery')">
                         <div class="white-color">Jewellery</div>
                    </a>
                </div>
                <div class="item">
                    <a (click)="filterByCategory('Sunglasses')">
                         <div class="white-color">Sunglasses</div>
                    </a>
                </div>

                <div class="search-container">
                   
                    <ng-select [(ngModel)]="searchTags" (change)="searchProductsByTags()" class="search-input white-color my-ng-select" [multiple]="true" [hideSelected]="true" [closeOnSelect]="false">
                        <div style="background: black;">

                            <ng-option *ngFor="let tag of availableTags" [value]="tag" [class.ng-option-marked]="searchTags.includes(tag)">
                            <div style="background: rgb(15, 15, 15); margin-left: 2px; margin-right: 2px;">
                                {{ tag }}
                            </div>
                        </ng-option>
                        </div>
                    </ng-select>
                    <div *ngIf="searchTags.length === 0" class="placeholder-text">Select tags</div>
                  </div>
                  
                  
                  
                    
            </div>
        </div>
        
        
    </div>
        
    <div class="container products-cont" [ngClass]="{'move-up': !showNavbar}">
        <div class="row">
            <ng-container *ngFor= "let item of productList">
                <div  class="card col-md-3" *ngIf="item.quant > 0" (mouseenter)="hoveredItem = item.id" (mouseleave)="hoveredItem = null">
                    <!-- On hover image change -->
                    <div class="product-image"
                    [style.background-image]="hoverImage === item.id ? 'url(' + item.sideImg+ ')' : 'url(' + item.image + ')'"
                    (mouseenter)="hoverImage = item.id"
                    (mouseleave)="hoverImage = null">
                    </div>

                    <mat-accordion style="background-color: white;">
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    
                                    <div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch; align-items: center; justify-content: center;">{{item.prodName}}</div>
                                    
                                </mat-panel-title>
                                <mat-panel-description>
                                    
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <p style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 100ch
                                    ;">{{item.prodDesc}}</p>
                                    <div> <strong>Vendor: {{ item.vendorName }}</strong></div>
                                    <br>
                                    <p> <strong>Price: {{item.price}}</strong> </p>
                                    <p> <strong>Quantity: {{item.quant}}</strong> </p>
                                    
                                    
                                    
                                    <app-product-review [productId]="item.id"></app-product-review>
        
                        </mat-expansion-panel>
                        
                    </mat-accordion>
                    <button class="btn btn-primary add-to-cart" style="margin-top: 22px;" *ngIf="hoveredItem === item.id && isUserCustomer()" (click)="addtocart(item)">Add to Cart</button>
                    <!-- <button  class="btn btn-primary" style="margin-top: 10px;" (click)="addtocart(item)">Add to Cart</button> -->
                </div>
            </ng-container>
            
          
        </div>
    </div>
</div>